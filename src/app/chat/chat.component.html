<body>
    <app-header></app-header>
    <div class="main-wrapper">
        <div class="wrapper">
            <div class="card">
                <div class="card-body">
                    <h1 style="text-align: center; color: white;">Chat avec {{ selectedUser.username }}</h1>
                    <div class="card" style="background-color: #3F5569;">
                        <div class="message-area">
                            <div class="zoneMessage" *ngFor="let message of messages">
                                <div class="message-content" [ngClass]="{ 'received-message': message.sender === selectedUser._id, 'sent-message': message.sender !== selectedUser._id }">
                                    <p>{{ message.sender !== selectedUser._id ? username : selectedUser.username }} - {{ message.timestamp | date: 'HH:mm:ss dd/MM/yyyy' }}</p>
                                    <p id="messageEnvoye">{{ message.content }}</p>
                                </div>
                            </div>                            
                        </div>
                    </div>
                    <br>
                    <div class="message-input">
                        <input [(ngModel)]="newMessage" placeholder=" Saisissez votre message ici" (keydown.enter)="sendMessage()">
                        <button (click)="sendMessage()">Envoyer</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <app-footer></app-footer>
</body>
